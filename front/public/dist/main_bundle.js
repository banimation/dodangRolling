(()=>{"use strict";const e=document.getElementById("welcome"),t=document.getElementById("logout"),n=document.getElementById("same-class-user-list"),s=document.getElementById("profile-image"),a=document.getElementById("open-my-rolling-paper"),d=document.getElementById("my-rolling-paper-container"),o=document.getElementById("back");let c;fetch("/get-session",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{const a=t.session;c=a,e.innerText+=`${c.grade}-${c.group} ${c.nickName}님 반가워요!`,s.src=`/texture/profile/${c.profileImage}.png`,fetch("/get-same-class-user-data",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.data.forEach((e=>{if(e.uid!==c.uid){const t=document.createElement("div"),s=document.createElement("img"),a=document.createElement("div");t.classList.add("same-class-user"),s.classList.add("same-class-user-image"),s.src=`/texture/profile/${e.profileImage}.png`,a.innerText=e.nickName,e.isTeacher&&(t.style.backgroundColor="#4F59D6"),t.append(s),t.append(a),n.append(t)}}))}))})),t.addEventListener("click",(()=>{fetch("/sign-out",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{"succeed"===e.msg&&location.reload()}))})),a.addEventListener("click",(()=>{d.classList.remove("hidden-right")})),o.addEventListener("click",(()=>{d.classList.add("hidden-right")}))})();