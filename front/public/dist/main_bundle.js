(()=>{"use strict";const e=document.getElementById("welcome"),t=document.getElementById("logout"),n=document.getElementById("same-class-user-list"),s=document.getElementById("profile-image");let a;fetch("/get-session",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{const o=t.session;a=o,e.innerText+=`${a.grade}-${a.group} ${a.nickName}님 반가워요!`,s.src=`/texture/profile/${a.profileImage}.png`,fetch("/get-same-class-user-data",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.data.forEach((e=>{if(e.uid!==a.uid){const t=document.createElement("div"),s=document.createElement("img"),a=document.createElement("div");t.classList.add("same-class-user"),s.classList.add("same-class-user-image"),s.src=`/texture/profile/${e.profileImage}.png`,a.innerText=e.nickName,e.isTeacher&&(t.style.backgroundColor="#4F59D6"),t.append(s),t.append(a),n.append(t)}}))}))})),t.addEventListener("click",(()=>{fetch("/sign-out",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{"succeed"===e.msg&&location.reload()}))}))})();